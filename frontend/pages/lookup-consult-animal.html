<div class="page">
    <div class="page-header">
        <h1 data-translate="search_animal">Search Animal</h1>
    </div>

    <!-- Search View -->
    <div id="animal-search-view">
        <div class="form-group form-group-full">
            <label for="consult-animal-search-eartag" data-translate="search_animal_by_eartag">Search Animal by Ear Tag</label>
            <div style="display: flex; gap: 10px;">
                <input type="text" id="consult-animal-search-eartag" placeholder="Enter ear tag...">
                <button type="button" id="consult-search-animal-btn" class="button-primary" data-translate="search">Search</button>
            </div>
            <div id="consult-search-animal-result" class="animal-search-results-container" style="margin-top: 15px;">
                <!-- Search results will be populated here by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Master Record View (Initially Hidden) -->
    <div id="animal-master-record-view" class="hidden">
        <div class="page-header">
            <h2 id="master-record-title">Animal Master Record</h2>
            <button id="back-to-search-btn" class="button-secondary" data-translate="back_to_search">Back to Search</button>
        </div>
        
        <!-- Details & KPIs Section -->
        <div class="master-record-section">
            <h3 data-translate="animal_details">Animal Details</h3>
            <div id="animal-details-content" class="details-grid"></div>
        </div>
        
        <!-- Weight History Section -->
        <div class="master-record-section">
            <h3 data-translate="weight_history">Weight History</h3>
            <div class="chart-and-grid-container">
                <div class="chart-container">
                    <canvas id="weightHistoryChart"></canvas>
                </div>
                <div id="animal-weight-history-grid"></div>
            </div>
        </div>

        <!-- Protocol History Section -->
        <div class="master-record-section">
            <h3 data-translate="protocol_history">Sanitary Protocol History</h3>
            <div id="animal-protocol-history-grid" class="full-height-grid" style="height: 300px;"></div>
        </div>

        <!-- Location History Section -->
        <div class="master-record-section">
            <h3 data-translate="location_history">Location History</h3>
            <div id="animal-location-history-grid" class="full-height-grid" style="height: 300px;"></div>
        </div>

        <!-- Diet History Section -->
        <div class="master-record-section">
            <h3 data-translate="diet_history">Diet History</h3>
            <div id="animal-diet-history-grid" class="full-height-grid" style="height: 300px;"></div>
        </div>

    </div>
</div>